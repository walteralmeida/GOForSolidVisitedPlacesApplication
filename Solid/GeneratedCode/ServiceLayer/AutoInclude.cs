////////////////////////////////////////////////////////////////////////////////////////////
// This is Generated Code
// You should not modify this code as it may be overwritten. Use Partial classes instead
// Generated By Generative Objects  
//////////////////////////////////////////////////////////////////////////////////////////// 

using System;
using System.Collections.Generic;
using System.Linq;
using System.Linq.Dynamic;

namespace Solid.ServiceLayer.IncludeMapping
{
	public partial class AutoInclude : IAutoInclude
	{
		partial void CustomInit();

		public AutoInclude()
		{
			CustomInit();
		}

		public IEnumerable<string> Lookup(string key)
		{
			if (_map.ContainsKey(key))
				return _map[key];

			return null;
		}

		public void Resolve(List<string> includes)
		{
			if (includes == null || !includes.Any())
				return;

			var autoIncludes = includes.Where(i => i.StartsWith("auto-include-id-")).ToArray();

			foreach (var i in autoIncludes)
			{
				includes.Remove(i);
				var includeList = Lookup(i);
				if (includeList != null && includeList.Any())
				{ 
					includes.AddRange(includeList);
				}
			}
		}

		private Dictionary< string, string[] > _map = new Dictionary< string, string[] >
		{
			// 
			// Forms
			// 
			// LocationForm 
			{  "auto-include-id-606f7503-3674-4cc6-b5f5-2589d2231be2", new string[] { "Country" } },
			// UserProfileForm 
			{  "auto-include-id-004328d0-bf8e-4d33-8f30-341cb5fac456", new string[] {  } },
			// CountryForm 
			{  "auto-include-id-b81310f0-d7cd-4db9-95f9-38146eecec84", new string[] {  } },
			// PlaceForm 
			{  "auto-include-id-b48eb8ed-7966-448f-8b22-5af2622ffef5", new string[] { "Country" } },
			// PlaceToLocationForm 
			{  "auto-include-id-a6613eb3-dd9e-4182-9122-9e96193680b8", new string[] { "Place", "Location" } },
			// VisitedPlaceForm 
			{  "auto-include-id-4f98d10b-88f5-430f-8f3e-ce855171c63b", new string[] { "Country" } },
		};
	}
}
